{"version":3,"sources":["webpack://hpc-ui-1.1.3/./detail/batch.volcano.sh.job.vue?e5c9","webpack://hpc-ui-1.1.3/./detail/batch.volcano.sh.job.vue","webpack://hpc-ui-1.1.3/detail/batch.volcano.sh.job.vue","webpack://hpc-ui-1.1.3/./detail/batch.volcano.sh.job.vue?3c32","webpack://hpc-ui-1.1.3/./detail/batch.volcano.sh.job.vue?e682","webpack://hpc-ui-1.1.3/./detail/batch.volcano.sh.job.vue?8371","webpack://hpc-ui-1.1.3/./detail/batch.volcano.sh.job.vue?7c1f"],"names":["content","__esModule","default","module","i","locals","exports","add","render","_vm","this","_c","_self","staticClass","attrs","value","t","vcjob","info","infoTableHeaders","scopedSlots","_u","key","fn","row","model","callback","$$v","$set","expression","_v","_s","_l","volumeMounts","spec","tasks","task","index","name","template","containers","container","index2","volumeMount","index3","hostPath","mountPath","path","nfs","server","_e","on","$event","callApiBtn","item","v1MonitoringUrl","selection","metricsOptions","selectionChanged","v1Metrics","staticRenderFns","POD_METRICS_DETAIL_URL","POD_METRICS_SUMMARY_URL","components","ResourceTable","DashboardMetrics","ResourceTabs","Tab","SortableTable","SimpleBox","LabeledInput","TextAreaAutoGrow","LabeledSelect","mixins","CreateEditView","V1WorkloadMetrics","console","log","$store","showMetrics","allDashboardsExist","currentCluster","id","_namespace$metadata","namespace","dispatch","type","NAMESPACE","metadata","projectId","labels","PROJECT","POD_PROJECT_METRICS_DETAIL_URL","POD_PROJECT_METRICS_SUMMARY_URL","showProjectMetrics","inStore","getters","data","POD_OPTION","label","metricsID","KEY","width","VALUE","dashIfEmpty","computed","mapGetters","allContainers","statuses","allStatuses","map","_status$lastState","status","findBy","state","descriptions","s","Object","values","reason","message","showBracket","description","push","lastState","terminated","_status$lastState2","ls","lsReason","lsMessage","lsExitCode","exitCode","lsStartedAt","dateTimeFormat","startedAt","lsFinishedAt","finishedAt","lsShowBracket","lsDescription","stateDisplay","containerStateDisplay","undefined","stateBackground","containerStateColor","replace","nameSort","sortableNumericSuffix","toLowerCase","readyIcon","ready","availableActions","containerActions","stateObj","stateDescription","join","initIcon","containerIsInit","openShell","openLogs","initContainers","containerStatuses","initContainerStatuses","containerHeaders","STATE","labelKey","formatter","formatterOpts","iconKey","align","sort","SIMPLE_NAME","IMAGE_NAME","search","addSuffix","graphVars","pod","v","c","unshift","v1MonitoringContainerBaseUrl","dateTimeFormatString","dateFormat","escapeHtml","DATE_FORMAT","timeFormat","TIME_FORMAT","methods","day","format","component","___CSS_LOADER_API_IMPORT___"],"mappings":"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","file":"hpc-ui-1.1.3.umd.min.detail.js","sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./batch.volcano.sh.job.vue?vue&type=style&index=0&id=f72fb83a&prod&scoped=true&lang=css\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"3738af4c\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('ResourceTabs',{staticClass:\"mt-20\",attrs:{\"mode\":\"view\",\"value\":_vm.value}},[_c('Tab',{staticClass:\"bordered-table\",attrs:{\"name\":\"info\",\"label\":_vm.t('node.detail.tab.info.label'),\"weight\":9}},[_c('ResourceTable',{attrs:{\"v-if\":_vm.vcjob.info,\"key-field\":\"_key\",\"sortkey\":\"_abe\",\"headers\":_vm.infoTableHeaders,\"rows\":_vm.vcjob.info,\"row-actions\":false,\"table-actions\":false,\"show-headers\":false,\"search\":false},scopedSlots:_vm._u([{key:\"cell:value\",fn:function({row}){return [(row.key=='Command')?_c('div',[_c('TextAreaAutoGrow',{attrs:{\"mode\":'view',\"min-height\":40,\"spellcheck\":false},model:{value:(row.value),callback:function ($$v) {_vm.$set(row, \"value\", $$v)},expression:\"row.value\"}})],1):_c('div',[_vm._v(\" \"+_vm._s(row.value)+\" \")])]}}])})],1),_c('Tab',{attrs:{\"label\":'Files',\"name\":\"Files\",\"weight\":7}},[_c('SimpleBox',{attrs:{\"title\":'Folder'}},[_vm._v(\" vcjob.spec.tasks \"),_vm._l((_vm.vcjob.volumeMounts.spec.tasks),function(task,index){return _c('SimpleBox',{key:index,attrs:{\"title\":task.name}},[_vm._v(\" \"+_vm._s(task)+\" task.template.spec.containers \"),_vm._l((task.template.spec.containers),function(container,index2){return _c('SimpleBox',{key:index2,attrs:{\"title\":container.name}},_vm._l((container.volumeMounts),function(volumeMount,index3){return _c('SimpleBox',{key:index3,attrs:{\"title\":volumeMount.name}},[(volumeMount.hostPath)?_c('div',[_vm._v(\" mountPath: \"+_vm._s(volumeMount.mountPath)+\" hostPath: \"+_vm._s(volumeMount.hostPath.path)+\" \")]):(volumeMount.nfs)?_c('div',[_vm._v(\" mountPath: \"+_vm._s(volumeMount.mountPath)+\" NFS: \"+_vm._s(volumeMount.nfs.server)+\":\"+_vm._s(volumeMount.nfs.path)+\" \")]):_vm._e()])}),1)})],2)})],2),_c('SimpleBox',{attrs:{\"title\":'Command'}},[_c('button',{on:{\"click\":function($event){return _vm.callApiBtn(_vm.item)}}},[_vm._v(\" Open FileExplorer \")])]),_c('ul',[_c('li',[_vm._v(\"Open FileExplorer ?\")]),_c('li',[_vm._v(\"Job Files (input files, output files)\")])])],1),(_vm.v1MonitoringUrl)?_c('Tab',{attrs:{\"name\":\"v1Metrics\",\"label\":_vm.t('node.detail.tab.metrics'),\"weight\":0}},[_c('LabeledSelect',{staticClass:\"pod-metrics-chooser\",attrs:{\"value\":_vm.selection,\"label-key\":\"workload.metrics.metricsView\",\"options\":_vm.metricsOptions},on:{\"input\":function($event){return _vm.selectionChanged($event)}}}),_c('div',{attrs:{\"id\":\"ember-anchor\"}},[_c('EmberPage',{attrs:{\"inline\":\"ember-anchor\",\"src\":_vm.v1Metrics}})],1)],1):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport ResourceTable from '@shell/components/ResourceTable';\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport Tab from '@shell/components/Tabbed/Tab';\nimport ResourceTabs from '@shell/components/form/ResourceTabs';\nimport SortableTable from '@shell/components/SortableTable';\nimport SimpleBox from '@shell/components/SimpleBox';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport { TextAreaAutoGrow } from '@components/Form/TextArea';\nimport { STATE, SIMPLE_NAME, IMAGE_NAME, KEY, VALUE } from '@shell/config/table-headers';\nimport { sortableNumericSuffix } from '@shell/utils/sort';\nimport { findBy } from '@shell/utils/array';\nimport DashboardMetrics from '@shell/components/DashboardMetrics';\nimport V1WorkloadMetrics from '@shell/mixins/v1-workload-metrics';\nimport { mapGetters } from 'vuex';\nimport { allDashboardsExist } from '@shell/utils/grafana';\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\nimport day from 'dayjs';\nimport { DATE_FORMAT, TIME_FORMAT } from '@shell/store/prefs';\nimport { escapeHtml } from '@shell/utils/string';\nimport { NAMESPACE } from '@shell/config/types';\nimport { PROJECT } from '@shell/config/labels-annotations';\n\nconst POD_METRICS_DETAIL_URL = '/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-grafana:80/proxy/d/rancher-pod-containers-1/rancher-pod-containers?orgId=1';\nconst POD_METRICS_SUMMARY_URL = '/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-grafana:80/proxy/d/rancher-pod-1/rancher-pod?orgId=1';\n\nexport default {\n  name: 'VolcanoJobDetail',\n\n  components: {\n    ResourceTable,\n    DashboardMetrics,\n    ResourceTabs,\n    Tab,\n    SortableTable,\n    SimpleBox,\n    LabeledInput,\n    TextAreaAutoGrow,\n    LabeledSelect,\n  },\n\n  mixins: [CreateEditView, V1WorkloadMetrics],\n\n  async fetch() {\n    console.log(this);\n    console.log(this.$store);\n    this.showMetrics = await allDashboardsExist(this.$store, this.currentCluster.id, [POD_METRICS_DETAIL_URL, POD_METRICS_SUMMARY_URL]);\n    if (!this.showMetrics) {\n      const namespace = await this.$store.dispatch('cluster/find', { type: NAMESPACE, id: this.value.metadata.namespace });\n\n      const projectId = namespace?.metadata?.labels[PROJECT];\n\n      if (projectId) {\n        this.POD_PROJECT_METRICS_DETAIL_URL = `/api/v1/namespaces/cattle-project-${ projectId }-monitoring/services/http:cattle-project-${ projectId }-monitoring-grafana:80/proxy/d/rancher-pod-containers-1/rancher-pod-containers?orgId=1'`;\n        this.POD_PROJECT_METRICS_SUMMARY_URL = `/api/v1/namespaces/cattle-project-${ projectId }-monitoring/services/http:cattle-project-${ projectId }-monitoring-grafana:80/proxy/d/rancher-pod-1/rancher-pod?orgId=1`;\n\n        this.showProjectMetrics = await allDashboardsExist(this.$store, this.currentCluster.id, [this.POD_PROJECT_METRICS_DETAIL_URL, this.POD_PROJECT_METRICS_SUMMARY_URL], 'cluster', projectId);\n      }\n    }\n    const inStore = this.$store.getters['currentProduct'].inStore;\n\n    if (this.$store.getters[`${ inStore }/schemaFor`](`Pod`)) {\n      await this.$store.dispatch(`${ inStore }/findAll`, {\n        type: 'pod'\n      });\n    }\n  },\n\n  data() {\n    const t = this.$store.getters['i18n/t'];\n    const POD_OPTION = {\n      id:    '//POD//',\n      label: t('workload.metrics.pod'),\n    };\n    const vcjob = this.value;\n\n    return {\n      vcjob,\n      POD_METRICS_DETAIL_URL,\n      POD_METRICS_SUMMARY_URL,\n      POD_PROJECT_METRICS_DETAIL_URL:  '',\n      POD_PROJECT_METRICS_SUMMARY_URL: '',\n      POD_OPTION,\n      showMetrics:                     false,\n      showProjectMetrics:              false,\n      selection:                       POD_OPTION,\n      metricsID:                       null,\n      infoTableHeaders: [\n        {\n          ...KEY,\n          label: '',\n          width: 200\n        },\n        {\n          ...VALUE,\n          label:       '',\n          dashIfEmpty: true,\n        }\n      ],\n    };\n  },\n\n  computed: {\n    ...mapGetters(['currentCluster']),\n    containers() {\n      const containers = this.allContainers;\n      const statuses = this.allStatuses;\n\n      return (containers || []).map((container) => {\n        const status = findBy(statuses, 'name', container.name);\n        const state = status?.state || {};\n        const descriptions = [];\n\n        // There can be only one member of a `ContainerState`\n        const s = Object.values(state)[0] || {};\n        const reason = s.reason || '';\n        const message = s.message || '';\n        const showBracket = s.reason && s.message;\n        const description = `${ reason }${ showBracket ? ' (' : '' }${ message }${ showBracket ? ')' : '' }`;\n\n        if (description) {\n          descriptions.push(description);\n        }\n\n        // add lastState to show termination reason\n        if (status?.lastState?.terminated) {\n          const ls = status?.lastState?.terminated;\n          const lsReason = ls.reason || '';\n          const lsMessage = ls.message || '';\n          const lsExitCode = ls.exitCode || '';\n          const lsStartedAt = this.dateTimeFormat(ls.startedAt);\n          const lsFinishedAt = this.dateTimeFormat(ls.finishedAt);\n          const lsShowBracket = ls.reason && ls.message;\n          const lsDescription = `${ lsReason }${ lsShowBracket ? ' (' : '' }${ lsMessage }${ lsShowBracket ? ')' : '' }`;\n\n          descriptions.push(this.t('workload.container.terminationState', {\n            lsDescription, lsExitCode, lsStartedAt, lsFinishedAt\n          }));\n        }\n\n        return {\n          ...container,\n          status:           status || {},\n          stateDisplay:     status ? this.value.containerStateDisplay(status) : undefined,\n          stateBackground:  status ? this.value.containerStateColor(status).replace('text', 'bg') : undefined,\n          nameSort:         sortableNumericSuffix(container.name).toLowerCase(),\n          readyIcon:        status?.ready ? 'icon-checkmark text-success ml-5' : 'icon-x text-error ml-5',\n          availableActions: this.value.containerActions,\n          stateObj:         status, // Required if there's a description\n          stateDescription: descriptions.join(' | '), // Required to display the description\n          initIcon:         this.value.containerIsInit(container) ? 'icon-checkmark icon-2x text-success ml-5' : 'icon-minus icon-2x text-muted ml-5',\n\n          // Call openShell here so that opening the shell\n          // at the container level still has 'this' in scope.\n          openShell: () => this.value.openShell(container.name),\n          // Call openLogs here so that opening the logs\n          // at the container level still has 'this' in scope.\n          openLogs:  () => this.value.openLogs(container.name)\n        };\n      });\n    },\n\n    allContainers() {\n      const { containers = [], initContainers = [] } = this.value.spec;\n\n      return [...containers, ...initContainers];\n    },\n\n    allStatuses() {\n      const { containerStatuses = [], initContainerStatuses = [] } = this.value.status;\n\n      return [...containerStatuses, ...initContainerStatuses];\n    },\n\n    containerHeaders() {\n      return [\n        STATE,\n        {\n          name:          'ready',\n          labelKey:      'tableHeaders.ready',\n          formatter:     'IconText',\n          formatterOpts: { iconKey: 'readyIcon' },\n          align:         'left',\n          width:         75,\n          sort:          'readyIcon'\n        },\n        {\n          ...SIMPLE_NAME,\n          value: 'name'\n        },\n        IMAGE_NAME,\n        {\n          name:          'isInit',\n          labelKey:      'workload.container.init',\n          formatter:     'IconText',\n          formatterOpts: { iconKey: 'initIcon' },\n          align:         'left',\n          width:         75,\n          sort:          'initIcon'\n        },\n        {\n          name:     'restarts',\n          labelKey: 'tableHeaders.restarts',\n          value:    'status.restartCount',\n          align:    'right',\n          width:    75\n        },\n        {\n          name:          'age',\n          labelKey:      'tableHeaders.started',\n          value:         'status.state.running.startedAt',\n          sort:          'status.state.running.startedAt:desc',\n          search:        false,\n          formatter:     'LiveDate',\n          formatterOpts: { addSuffix: true },\n          align:         'right'\n        }\n      ];\n    },\n\n    // infoTableRows() {\n    //   return this.vcjob?.info;\n    // },\n\n    graphVars() {\n      return {\n        namespace: this.value.namespace,\n        pod:       this.value.name\n      };\n    },\n\n    metricsOptions() {\n      const v = this.containers.map((c) => {\n        return {\n          id:    c.name,\n          label: c.name\n        };\n      });\n\n      v.unshift(this.POD_OPTION);\n\n      return v;\n    },\n\n    v1Metrics() {\n      if (!this.metricsID) {\n        return this.v1MonitoringUrl;\n      } else {\n        return `${ this.v1MonitoringContainerBaseUrl }/${ this.metricsID }`;\n      }\n    },\n\n    dateTimeFormatString() {\n      const dateFormat = escapeHtml( this.$store.getters['prefs/get'](DATE_FORMAT));\n      const timeFormat = escapeHtml( this.$store.getters['prefs/get'](TIME_FORMAT));\n\n      return `${ dateFormat } ${ timeFormat }`;\n    }\n  },\n\n  methods: {\n    selectionChanged(c) {\n      const id = c === this.POD_OPTION ? null : c.id;\n\n      this.metricsID = id;\n      this.selection = c;\n    },\n\n    dateTimeFormat(value) {\n      return value ? day(value).format(this.dateTimeFormatString) : '';\n    }\n  }\n};\n</script>\n\n<template>\n  <ResourceTabs\n    mode=\"view\"\n    class=\"mt-20\"\n    :value=\"value\"\n  >\n    <Tab\n      name=\"info\"\n      :label=\"t('node.detail.tab.info.label')\"\n      class=\"bordered-table\"\n      :weight=\"9\"\n    >\n      <ResourceTable\n        :v-if=\"vcjob.info\"\n        key-field=\"_key\"\n        sortkey=\"_abe\"\n        :headers=\"infoTableHeaders\"\n        :rows=\"vcjob.info\"\n        :row-actions=\"false\"\n        :table-actions=\"false\"\n        :show-headers=\"false\"\n        :search=\"false\"\n      >\n        <template #cell:value=\"{row}\">\n          <div\n            v-if=\"row.key=='Command'\"\n          >\n            <TextAreaAutoGrow\n              v-model=\"row.value\"\n              :mode=\"'view'\"\n              :min-height=\"40\"\n              :spellcheck=\"false\"\n            />\n          </div>\n          <div\n            v-else\n          >\n            {{ row.value }}\n          </div>\n        </template>\n      </ResourceTable>\n    </Tab>\n<!-- \n    <Tab\n      name=\"Parameters\"\n      :weight=\"7\"\n    >\n      <SimpleBox\n        :title=\"'Plugins'\"\n      >\n        vcjob.spec.plugins\n        <SimpleBox\n          v-for=\"(item, key, index) in vcjob.spec.plugins\"\n          v-if=\"item.length > 0\"\n          :key=\"index\"\n          :title=\"key\"\n        >\n          <TextAreaAutoGrow\n            v-model=\"vcjob.spec.plugins[key]\"\n            :disabled=\"disabled\"\n            :mode=\"'view'\"\n            :min-height=\"40\"\n            :spellcheck=\"false\"\n          />\n        </SimpleBox>\n      </SimpleBox>\n      <SimpleBox\n        :title=\"'ENV'\"\n      >\n        vcjob.spec.tasks.name\n        <SimpleBox\n          v-for=\"(task, index) in vcjob.spec.tasks\"\n          :key=\"index\"\n          :title=\"task.name\"\n        >\n          task.template.spec.containers.name\n          <SimpleBox\n            v-for=\"(container, index2) in task.template.spec.containers\"\n            :key=\"index2\"\n            :title=\"container.name\"\n          >\n            container.env\n            <LabeledInput\n              v-for=\"(env, index3) in container.env\"\n              :key=\"index3\"\n              v-model=\"env.value\"\n              :label=\"env.name\"\n            />\n          </SimpleBox>\n        </SimpleBox>\n      </SimpleBox>\n      <LabeledInput\n        v-model=\"vcjob.containersCount\"\n        :label=\"'containers'\"\n        :mode=\"'view'\"\n      />\n      <SimpleBox\n        :title=\"'etc'\"\n      >\n        <div>Hello</div>\n      </SimpleBox>\n    </Tab>\n\n    <Tab\n      :label=\"'Logs'\"\n      name=\"Logs\"\n      :weight=\"7\"\n    >\n      <ul>\n        <li>Job Logs</li>\n        <li>Console output</li>\n      </ul>\n    </Tab> -->\n\n    <Tab\n      :label=\"'Files'\"\n      name=\"Files\"\n      :weight=\"7\"\n    >\n      <SimpleBox\n        :title=\"'Folder'\"\n      >\n        vcjob.spec.tasks\n        <SimpleBox\n          v-for=\"(task, index) in vcjob.volumeMounts.spec.tasks\"\n          :key=\"index\"\n          :title=\"task.name\"\n        >\n          {{ task }}\n          task.template.spec.containers\n          <SimpleBox\n            v-for=\"(container, index2) in task.template.spec.containers\"\n            :key=\"index2\"\n            :title=\"container.name\"\n          >\n            <SimpleBox\n              v-for=\"(volumeMount, index3) in container.volumeMounts\"\n              :key=\"index3\"\n              :title=\"volumeMount.name\"\n            >\n              <div\n                v-if=\"volumeMount.hostPath\"\n              >\n                mountPath: {{ volumeMount.mountPath }}\n                hostPath: {{ volumeMount.hostPath.path }}\n              </div>\n              <div\n                v-else-if=\"volumeMount.nfs\"\n              >\n                mountPath: {{ volumeMount.mountPath }}\n                NFS: {{ volumeMount.nfs.server }}:{{ volumeMount.nfs.path }}\n              </div>\n            </SimpleBox>\n          </SimpleBox>\n        </SimpleBox>\n      </SimpleBox>\n      <SimpleBox\n        :title=\"'Command'\"\n      >\n        <button @click=\"callApiBtn(item)\">\n          Open FileExplorer\n        </button>\n      </SimpleBox>\n      <ul>\n        <li>Open FileExplorer ?</li>\n        <li>Job Files (input files, output files)</li>\n      </ul>\n    </Tab>\n\n    <!-- <Tab\n      :label=\"t('workload.container.titles.containers')\"\n      name=\"containers\"\n      :weight=\"3\"\n    >\n      <SortableTable\n        :rows=\"containers\"\n        :headers=\"containerHeaders\"\n        :mode=\"mode\"\n        key-field=\"name\"\n        :search=\"false\"\n        :row-actions=\"true\"\n        :table-actions=\"false\"\n      />\n    </Tab> -->\n    <Tab\n      v-if=\"v1MonitoringUrl\"\n      name=\"v1Metrics\"\n      :label=\"t('node.detail.tab.metrics')\"\n      :weight=\"0\"\n    >\n      <LabeledSelect\n        class=\"pod-metrics-chooser\"\n        :value=\"selection\"\n        label-key=\"workload.metrics.metricsView\"\n        :options=\"metricsOptions\"\n        @input=\"selectionChanged($event)\"\n      />\n      <div id=\"ember-anchor\">\n        <EmberPage\n          inline=\"ember-anchor\"\n          :src=\"v1Metrics\"\n        />\n      </div>\n    </Tab>\n    <!-- <Tab\n      v-if=\"showMetrics\"\n      :label=\"t('workload.container.titles.metrics')\"\n      name=\"pod-metrics\"\n      :weight=\"2.5\"\n    >\n      <template #default=\"props\">\n        <DashboardMetrics\n          v-if=\"props.active\"\n          :detail-url=\"POD_METRICS_DETAIL_URL\"\n          :summary-url=\"POD_METRICS_SUMMARY_URL\"\n          :vars=\"graphVars\"\n          graph-height=\"550px\"\n        />\n      </template>\n    </Tab>\n    <Tab\n      v-if=\"showProjectMetrics\"\n      :label=\"t('workload.container.titles.metrics')\"\n      name=\"pod-metrics\"\n      :weight=\"2.5\"\n    >\n      <template #default=\"props\">\n        <DashboardMetrics\n          v-if=\"props.active\"\n          :detail-url=\"POD_PROJECT_METRICS_DETAIL_URL\"\n          :summary-url=\"POD_PROJECT_METRICS_SUMMARY_URL\"\n          :vars=\"graphVars\"\n          graph-height=\"550px\"\n        />\n      </template>\n    </Tab> -->\n  </ResourceTabs>\n</template>\n<style scoped>\n  .pod-metrics-chooser {\n    width: fit-content;\n    margin-bottom: 10px;\n    min-width: 300px;\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./batch.volcano.sh.job.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./batch.volcano.sh.job.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./batch.volcano.sh.job.vue?vue&type=template&id=f72fb83a&scoped=true\"\nimport script from \"./batch.volcano.sh.job.vue?vue&type=script&lang=js\"\nexport * from \"./batch.volcano.sh.job.vue?vue&type=script&lang=js\"\nimport style0 from \"./batch.volcano.sh.job.vue?vue&type=style&index=0&id=f72fb83a&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f72fb83a\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--8-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./batch.volcano.sh.job.vue?vue&type=style&index=0&id=f72fb83a&prod&scoped=true&lang=css\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".pod-metrics-chooser[data-v-f72fb83a]{width:-moz-fit-content;width:fit-content;margin-bottom:10px;min-width:300px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n"],"sourceRoot":""}